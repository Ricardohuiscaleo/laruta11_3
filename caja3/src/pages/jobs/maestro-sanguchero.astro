---
export const prerender = false;
---

<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" href="/icon.png">
    <title>Postulaci칩n Maestro/a Sanguchero/a - La Ruta 11</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .timer-warning { color: #d97706; animation: pulse 1.5s infinite; }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-5xl">
        
        <!-- Fase 1: Formulario B치sico -->
        <div id="phase1">
            <header class="text-center mb-6 sm:mb-8">
                <h1 class="font-bold text-amber-600 flex items-center justify-center gap-2 sm:gap-3" style="font-size: clamp(1.5rem, 4vw, 2.5rem);">
                    <img src="/icon.png" alt="La Ruta 11" class="w-8 h-8 sm:w-10 sm:h-10">
                    La Ruta 11
                </h1>
                <p class="text-gray-600 mt-2" style="font-size: clamp(0.875rem, 2.5vw, 1.25rem);">Postulaci칩n para Maestro/a Sanguchero/a</p>
            </header>
            <div class="bg-white p-6 rounded-lg shadow-lg max-w-lg mx-auto">
                <h2 class="text-2xl font-bold mb-4 border-b pb-3">1. Datos de Contacto</h2>
                <form id="basicForm" onsubmit="return false;">
                    <div class="mb-4 flex items-center gap-4">
                        <img id="profile-img" src="" alt="Foto de perfil" class="w-16 h-16 rounded-full border-2 border-amber-200" style="display: none;">
                        <div class="flex-1">
                            <label for="nombre" class="block text-sm font-medium text-gray-700 mb-1">Nombre Completo</label>
                            <input type="text" id="nombre" name="nombre" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500" required>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Correo Electr칩nico</label>
                        <input type="email" id="email" name="email" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-50" readonly>
                    </div>
                    <div class="mb-4">
                        <label for="telefono" class="block text-sm font-medium text-gray-700 mb-1">Tel칠fono / WhatsApp <span class="text-red-500">*</span></label>
                        <input type="tel" id="telefono" name="telefono" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500" placeholder="+56 9 1234 5678" required>
                        <div id="phone-validator" class="text-xs mt-1 h-4"></div>
                    </div>
                    <div class="mb-4">
                        <label for="instagram" class="block text-sm font-medium text-gray-700 mb-1">Instagram <span class="text-gray-400">(opcional)</span></label>
                        <div class="relative">
                            <span class="absolute left-3 top-3 text-gray-400">@</span>
                            <input type="text" id="instagram" name="instagram" class="w-full pl-8 pr-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500" placeholder="tu_usuario">
                        </div>
                        <p class="text-xs text-gray-500 mt-1">Solo el nombre de usuario, sin @</p>
                    </div>
                    <div class="mb-4">
                        <label for="nacionalidad" class="block text-sm font-medium text-gray-700 mb-1">Nacionalidad <span class="text-red-500">*</span></label>
                        <select id="nacionalidad" name="nacionalidad" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500" required>
                            <option value="">Selecciona tu nacionalidad</option>
                            <option value="chile">游뻟릖 Chile</option>
                            <option value="argentina">游뷣릖 Argentina</option>
                            <option value="bolivia">游游 Bolivia</option>
                            <option value="brasil">游游 Brasil</option>
                            <option value="colombia">游뻟릖 Colombia</option>
                            <option value="ecuador">游쀯릖 Ecuador</option>
                            <option value="guyana">游섫릖 Guyana</option>
                            <option value="paraguay">游왫릖 Paraguay</option>
                            <option value="peru">游왫릖 Per칰</option>
                            <option value="suriname">游젏릖 Suriname</option>
                            <option value="uruguay">游쥟릖 Uruguay</option>
                            <option value="venezuela">游游 Venezuela</option>
                            <option value="otro_pais">游깴 Otro pa칤s</option>
                        </select>
                    </div>
                    <div class="mb-4">
                        <label for="genero" class="block text-sm font-medium text-gray-700 mb-1">G칠nero <span class="text-red-500">*</span></label>
                        <select id="genero" name="genero" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500" required>
                            <option value="">Selecciona tu g칠nero</option>
                            <option value="masculino">Masculino</option>
                            <option value="femenino">Femenino</option>
                            <option value="otro">Otro</option>
                            <option value="prefiero_no_decir">Prefiero no decir</option>
                        </select>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Requisitos legales para trabajar en Chile <span class="text-red-500">*</span></label>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="checkbox" id="mayor_edad" name="requisitos[]" value="mayor_edad" class="mr-2 text-amber-600 focus:ring-amber-500" required>
                                Soy mayor de 18 a침os
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" id="cedula_vigente" name="requisitos[]" value="cedula_vigente" class="mr-2 text-amber-600 focus:ring-amber-500" required>
                                Tengo c칠dula de identidad vigente (chilena o extranjera)
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" id="permiso_trabajo" name="requisitos[]" value="permiso_trabajo" class="mr-2 text-amber-600 focus:ring-amber-500" required>
                                Tengo permiso legal para trabajar en Chile
                            </label>
                        </div>
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">쯊ienes curso de manipulador de alimentos? <span class="text-red-500">*</span></label>
                        <div class="flex gap-4">
                            <label class="flex items-center">
                                <input type="radio" name="curso_manipulador" value="si" class="mr-2 text-amber-600 focus:ring-amber-500">
                                S칤, tengo el curso
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="curso_manipulador" value="no" class="mr-2 text-amber-600 focus:ring-amber-500">
                                No, no tengo el curso
                            </label>
                        </div>
                        <p class="text-xs text-amber-600 mt-1">* Obligatorio para esta posici칩n</p>
                    </div>
                </form>
                <div class="mt-6 text-center bg-amber-50 border border-amber-200 p-4 rounded-lg">
                    <h3 class="font-bold text-amber-800">Tu Primera Parada en La Ruta 11</h3>
                    <p class="text-sm text-amber-700 mt-2">
                        No solo buscamos un/a cocinero/a, buscamos un/a 'Maestro/a Sanguchero/a' que entienda el esp칤ritu del norte: sabor, rapidez y buena onda. Esta prueba es tu primera parada. Te presentaremos 3 situaciones reales de nuestro d칤a a d칤a. Tendr치s <strong>11 minutos</strong> para demostrar c칩mo piensas y act칰as bajo presi칩n. <strong>Todas tus respuestas y el n칰mero de intentos ser치n registrados</strong>.
                    </p>
                </div>
                <div class="mt-8">
                    <button type="button" id="startQuestionsButton" class="w-full bg-amber-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 transition-all duration-300">
                        Contestar Preguntas
                    </button>
                </div>
            </div>
        </div>

        <!-- Fase 2: Preguntas y Calificador -->
        <div id="phase2" class="hidden fade-in">
            
            <!-- Header Fijo -->
            <header class="fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm z-10 shadow-md">
                <div class="container mx-auto px-4 py-3 max-w-5xl">
                    <p class="text-xs sm:text-sm text-center text-gray-600 mb-2">Afinidad con el esp칤ritu de "La Ruta 11"</p>
                    <div class="w-full bg-gray-200 rounded-full h-5 sm:h-6">
                        <div id="compatibilityBar" class="bg-amber-600 h-5 sm:h-6 rounded-full text-center text-white font-bold text-xs sm:text-sm flex items-center justify-center transition-all duration-500" style="width: 0%;">
                            0%
                        </div>
                    </div>
                </div>
            </header>

            <!-- Contenido Principal -->
            <main class="pt-20 sm:pt-24 pb-24 sm:pb-28">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <!-- Columna de Preguntas -->
                        <div class="lg:col-span-2 space-y-6">
                            <div>
                                <label for="pregunta1" class="block text-md font-semibold text-gray-800">1. El Inicio del D칤a</label>
                                <p class="text-sm text-gray-600 mb-2">Llegas para abrir y al revisar el stock, notas que queda muy poca carne para la 'Mechada Luco', nuestro s치ndwich m치s vendido. El proveedor no llega hasta la tarde. Describe paso a paso tu plan de acci칩n desde ese momento hasta que abres, incluyendo c칩mo te coordinas con tu compa침era cajera.</p>
                                <textarea id="pregunta1" name="pregunta1" rows="5" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500" placeholder="Tu plan de acci칩n aqu칤..."></textarea>
                            </div>
                            <div>
                                <label for="pregunta2" class="block text-md font-semibold text-gray-800">2. El Desarrollo del Servicio</label>
                                <p class="text-sm text-gray-600 mb-2">Plena hora punta. La plancha est치 llena y la cajera te canta un pedido nuevo, pero olvida mencionar que el cliente es al칠rgico al ajo. Te das cuenta justo cuando est치s por entregar el s치ndwich. Narra c칩mo manejas este error cr칤tico para garantizar la seguridad del cliente, tu comunicaci칩n con la cajera y c칩mo recuperas el ritmo del servicio.</p>
                                <textarea id="pregunta2" name="pregunta2" rows="5" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500" placeholder="Narra c칩mo manejas la crisis..."></textarea>
                            </div>
                            <div>
                                <label for="pregunta3" class="block text-md font-semibold text-gray-800">3. El Cierre y la Mejora</label>
                                <p class="text-sm text-gray-600 mb-2">Fue un d칤a excelente, pero notaste que al menos cinco clientes preguntaron si ten칤amos opci칩n vegetariana. Basado en esa observaci칩n, describe tu proceso de cierre y limpieza. Luego, 쯤u칠 idea de s치ndwich vegetariano, con un toque nortino, le propondr칤as a tu compa침era para implementar?</p>
                                <textarea id="pregunta3" name="pregunta3" rows="5" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500" placeholder="Describe el cierre y tu propuesta..."></textarea>
                            </div>
                            <div id="paste-alert" class="hidden p-2 bg-red-100 text-red-700 text-sm rounded-md text-center">La funci칩n de pegar est치 deshabilitada.</div>
                        </div>
                        <!-- Columna de An치lisis -->
                        <div class="lg:col-span-1">
                            <div class="sticky top-20 sm:top-24">
                                <h3 class="font-bold mb-2" style="font-size: clamp(0.875rem, 2vw, 1.125rem);">An치lisis de Habilidades</h3>
                                <ul id="skillsList" class="space-y-1 sm:space-y-2 text-xs sm:text-sm"></ul>
                            </div>
                        </div>
                    </div>

                    <!-- Bot칩n de Env칤o -->
                    <div class="mt-8 border-t pt-6">
                        <button type="button" id="submitButton" class="w-full bg-amber-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 transition-all duration-300 disabled:bg-gray-400" disabled>
                            Enviar Postulaci칩n
                        </button>
                    </div>
                </div>
            </main>

            <!-- Footer Fijo -->
            <footer class="fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-sm z-10 border-t">
                <div class="container mx-auto px-3 py-3 max-w-5xl">
                    <div class="grid grid-cols-3 gap-2 sm:gap-4 text-center">
                        <div class="min-w-0">
                            <h2 class="font-bold text-xs sm:text-sm lg:text-base mb-1">Calificador</h2>
                            <div id="compatibilityText" class="font-semibold text-gray-700 text-xs sm:text-sm truncate">Esperando...</div>
                        </div>
                        <div class="min-w-0">
                            <h2 class="font-bold text-xs sm:text-sm lg:text-base mb-1">Intentos</h2>
                            <div id="attemptCounter" class="font-bold text-amber-600 text-sm sm:text-lg lg:text-xl"></div>
                        </div>
                        <div class="min-w-0">
                            <h2 class="font-bold text-xs sm:text-sm lg:text-base mb-1">Tiempo</h2>
                            <div id="timer" class="font-bold text-gray-800 text-sm sm:text-lg lg:text-xl">11:00</div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <script src="/js/job-application.js" is:inline></script>
    <script is:inline>
        window.addEventListener('load', () => {
            if (typeof initJobApplication === 'function') {
                initJobApplication('maestro_sanguchero');
            }
        });
    </script>
</body>
</html>